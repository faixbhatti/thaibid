"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function price(){function e(e,t,o){var n=[];return e.forEach(function(e){e.pm_is_redeemable?(e.pm_redeem_point===t||e.pm_redeem_point>t)&&(e.pm_redeem_point===o||e.pm_redeem_point<o)&&e.pm_is_redeemable&&n.push(e):(e.pm_minimumbid===t||e.pm_minimumbid>t)&&(e.pm_minimumbid===o||e.pm_minimumbid<o)&&(e.pm_is_redeemable||n.push(e))}),n}return e}function sideBarCtrl(e,t,o){function n(){r.tempProducts=[],r.maxPrice=0,r.minPrice=0,r.currentFilter=""}var r=this;r.clicked=!1,r.minPrice=0,r.maxPrice=0,r.tempProducts=[],r.currentFilter="",r.setFilter=function(e){},r.setPriceLimits=function(){0===r.maxPrice&&0===r.minPrice||(r.tempProducts=[].concat(_toConsumableArray(r.products)),r.products=e(r.products,r.minPrice,r.maxPrice))},r.clearFilters=function(){r.products=r.tempProducts!==[]?[].concat(_toConsumableArray(r.tempProducts)):r.products,n()},r.timeFilters=function(e){r.currentFilter=e;var n=o.previousPage.includes("redeem")?"category"+o.previousPage:o.previousPage.slice(1),a={"advance_search[filter]":e,"advance_search[start_price]":r.minPrice,"advance_search[end_price]":r.maxPrice};t.post(n,a).then(function(e){var o=t.verifyData(e.data);if(o){console.log(o);var a=o.data;r.tempProducts=r.tempProducts===[]?[].concat(_toConsumableArray(r.products)):r.tempProducts,console.log(r.tempProducts),r.products=a.filter(function(e){return n.includes("redeem")?e.pm_is_redeemable:!e.pm_is_redeemable})}else Materialize.toast("Error completing request",2e3)})},r.$onInit=function(){r.defaultLimit=r.limit}}function viewCtrl(){var e=this;!function(){window.innerWidth<993?e.inMobile=!0:e.inMobile=!1}()}function Location(e){function t(){e.get("https://api.openthailand.org/provinces").then(function(e){var t={};e.data.result.data.forEach(function(e){return t[e.name]=null}),$("#province.autocomplete").autocomplete({data:t,limit:15,minLength:1})})}function o(t){var o=t.split(/\s+/).join("-").toLowerCase(),n="https://api.openthailand.org/provinces/"+o+"/districts";r!==o&&(r=o,e.get(n).then(function(e){var t={};e.data.result.data.forEach(function(e){t[e.name]=null,i[e.name]=e.id}),$("#district.autocomplete").autocomplete({data:t,limit:15,minLength:1})}))}function n(t){var o=i[t],n="https://api.openthailand.org/provinces/"+r+"/districts/"+o+"/subdistricts";a!==o&&(a=o,e.get(n).then(function(e){var t={};e.data.result.data.forEach(function(e){return t[e.name]=null}),$("#sub-d.autocomplete").autocomplete({data:t,limit:15,minLength:1})}))}var r,a,i={};return{getProvinces:t,getDistricts:o,getSubDistricts:n}}function Calculate(){function e(e,t){var o=0;return e.forEach(function(e){return o+=e.price}),o}function t(e,t,o){e.quantity>1&&(e.quantity--,t.total-=e.price)}function o(e,t,o){e.quantity<3&&(e.quantity++,t.total+=e.price)}return{getTotal:e,increment:o,decrement:t}}function checkCtrl(e,t,o,n,r,a,i){t.showNav=!1,t.inCart=!0,t.inDetail=!1;var c=this;c.selectedStep=0,e.user=t.user,e.userPoints=e.user.points,e.shopRedeem=t.shopRedeem,e.items=t.cart,e.discounted=!1,e.all=!0,e.billing={},e.checkingOut=!1,e.paymentOption="",e.deliveryOption="standard",e.templates={billing:"app/checkout/billing.html",deliveryOptions:"app/checkout/delivery.html",order:"app/checkout/order.html"},c.stepData=[{step:1,completed:!1,optional:!1,data:{}},{step:2,completed:!1,optional:!1,data:{}},{step:3,completed:!1,optional:!1,data:{}}],e.completeStep=function(t){1===c.selectedStep?""===e.paymentOption?e.showPaymentError=!0:""===e.deliveryOption?e.showDeliveryError=!0:(e.showDeliveryError=!1,e.showPaymentError=!1,t.completed=!0,e.nextStep()):(t.completed=!0,e.nextStep())},e.nextStep=function(){c.selectedStep<3&&(c.selectedStep+=1,document.documentElement.scrollTop=0,document.body.scrollTop=0)},e.previousStep=function(){c.selectedStep>0&&(c.selectedStep-=1,document.documentElement.scrollTop=0,document.body.scrollTop=0)},e.checkout=function(){e.checkingOut=!e.checkingOut,r.getProvinces()},e.goBack=function(){!0!==e.checkingOut?n.url(e.previousPage):e.checkingOut=!1},e.imgs=["Icons/2co.png","Icons/paypal.png","Icons/moneygram.png","Icons/mastercard.png","Icons/visa.png"],e.selectPayment=function(t){e.paymentOption=e.paymentOption===t?"":t},e.selectDeliveryOption=function(t){e.deliveryOption=e.deliveryOption===t?"":t},e.getDistrict=function(e){r.getDistricts(e)},e.getSubDistrict=function(e){r.getSubDistricts(e)},e.getDiscount=function(o){o===t.username?(Materialize.toast("You've received a 10% discount",1e3),e.discounted=!0):Materialize.toast("Sorry that coupon code doesn't exist.",1e3)},e.removeFromCart=function(e,t){i.open(e,t)},e.finish=function(){t.template="orders";var e="user/"+t.user.username;n.url(e)},e.template=e.templates[0],e.total=a.getTotal(e.items),e.totalPoints=0,e.items.forEach(function(t){t.is_redeemable&&(e.totalPoints+=t.points)}),e.previousPage=t.previousPage,e.increment=function(t){a.increment(t,e,e.items)},e.decrement=function(t){a.decrement(t,e,e.items)},c.$onInit=function(){document.documentElement.scrollTop=0,document.body.scrollTop=0,$(".back-up").hide()}}function deleteModal(e){function t(e,t){this.index=e,this.list=t,$("#delete-modal").modal("open")}function o(e){return new Date(e.setDate(e.getDate()+1))}function n(){this.list.splice(this.index,1),e.hasDeleted=!0;var t=new Date;this.endDate=o(t),console.log(this.endDate),Materialize.toast("Item removed from cart",1e3)}return{open:t,removeItem:n,index:0,list:[],endDate:0}}function deleteFromCartCtrl(e,t){var o=this;o.hasDeleted=t.hasDeleted,t.$watch("hasDeleted",function(e,t,n){o.hasDeleted=e},!0),o.removeItem=function(){e.removeItem()},o.deleteModal=e}function homeCtrl(e,t,o){var n=this;e.dataLoading=!0,n.spinnerPosition="absolute",function(){t.get("category/home-garden").then(function(t){var o=t.data;400!==o.meta.code&&o.data&&(e.products=o.data.data,e.dataLoading=!1,e.deals=e.products)},function(e){}),t.get("home-slider").then(function(e){var t=e.data;400!==t.meta.code&&(n.slideImages=t.data,setTimeout(function(){$(".slider").slider()},2e3))})}(),o.inCart=!1,e.moveSlider=function(e){$(".slider").slider(e)},o.inDetail=!1,o.showNav=!0,e.loading=!1;var r=!1;e.loadMore=function(){if(window.scrollY>=.7*(document.body.scrollHeight-window.innerHeight)&&!r){r=!0,e.loading=!0;var t=document.querySelector("#prod-list");t.click(),setTimeout(function(){var o;(o=e.rest).push.apply(o,_toConsumableArray(extras)),e.loading=!1,t.click()},2e3)}},n.$onInit=function(){$(".slider").slider(),document.body.scrollTop=0,document.documentElement.scrollTop=0,$(".dropdown-button").dropdown({inDuration:300,outDuration:225})},n.$onDestroy=function(){window.removeEventListener("scroll",e.loadMore)}}function bidTableCtrl(){var e=this;e.onInit=function(){},e.onChanges=function(e){},e.onDestory=function(){}}function timerCtrl(e,t,o){function n(){e.$broadcast("timer-reset"),e.$broadcast("timer-start")}var r=this;r.user=o.getUser(),r.timeLeft=57,r.endAuction=function(){r.clear=!0;var e={color:r.product.bidInfo.productColor,size:r.product.bidInfo.productSize,productId:r.product.productId,auctionId:r.product.auctionId};t.postUserDetails("product-end-auction",r.user,e,"put").then(function(e){t.verifyData(e.data)?(Materialize.toast(""+e.data.meta.message,3e3),$rootScope.$broadcast("auction-ended"),n()):Materialize.toast("An error occured. Please try again",3e3)})},r.autoBid=function(){var e={auctionId:r.product.product.auctions.auctionId,productId:r.product.product.productId};t.postUserDetails("product-auto-bid",r.user,e,"put").then(function(e){t.verifyData(e.data)&&(Materialize.toast("New bid been placed. Timer is restarting",4e3),r.product.getAuctionDetails(),n())})},e.$on("timer-tick",function(e,t){t.millis<=1e4?$(".timer").hasClass("red-text")||$("#time-icon").hasClass("red-text")||($(".timer").addClass("red-text"),$("#time-icon").addClass("animated flash infinite red-text"),r.product.maxBid<r.product.product.minimum_bid&&r.autoBid()):$(".timer").hasClass("red-text")&&$("#time-icon").hasClass("red-text")&&($(".timer").removeClass("red-text"),$("#time-icon").removeClass("animated flash infinite red-text"))}),r.$onInit=function(){setTimeout(function(){return r.timeLeft=r.product.remaining_time},3e3)}}function misc(){function e(){function e(e){t.classList.remove("rubberBand")}var t=document.querySelector(".cart-button");t.classList.add("rubberBand"),t.addEventListener("animationend",e)}function t(e){return e[0].toUpperCase()+e.slice(1)}return{shake:e,capitalizeText:t}}function detailCtrl(e,t,o,n,r,a,i,c){function l(e){return e<1?e+10:parseInt(p(.1*e,1))}function s(){e.$broadcast("timer-reset"),e.$broadcast("timer-start")}function d(){e.bids=[],e.maxBid=m.maxBid=l(0),e.nextBid=l(e.maxBid)+e.maxBid}function u(){e.loggedIn=i.isAuthenticated(),h=e.user=i.getUser()}var m=this;e.loading=!0,e.showDiv=!1,e.newBid=!1,e.nextBid=0,e.timeLeft=30,o.showNav=!0,o.inCart=!1,o.previousPage="/product/"+t.productId,e.active=0,e.clicked=1,e.selected=1,e.cart=o.cart,e.loggedIn=i.isAuthenticated(),e.bids=[];var p=c("number"),f=!1,h=void 0;i.getUser()&&(h=e.user=i.getUser()),m.bidInfo={};var g=document.querySelector("#amount");m.observed=!1,m.spinnerPosition="absolute",e.$watch("$root.cart",function(t,n,r){e.cart=o.cart},!0),function(){var o=t.productId;a.get("product/"+o).then(function(t){var o=t.data.data;e.product=m.product=o,m.remaining_time=e.product.auctions.remaining_time,m.productId=e.product.productId,m.auctionId=e.product.auctions.auctionId,e.maxBid=m.maxBid=l(0),e.nextBid=l(e.maxBid)+e.maxBid;var a=n.capitalizeText(e.product.product_title);r.setTitle(""+a," | Bidxel.com"),e.imgs=e.product.images,e.productImage=e.imgs[0],e.sizes=e.product.sizes,e.colors=e.product.colors,e.ratings=e.product.ratings,e.relatedProducts=e.product.related_products,e.loading=!1}),e.page=1}(),m.getAuctionDetails=function(){var t={auctionId:e.product.auctions.auctionId,productId:e.product.productId};a.postUserDetails("bidder",h,t,"patch").then(function(t){var o=t.data;if(200===o.meta.code)if(o.data){var n=o.data;e.bids=[].concat(_toConsumableArray(n)),e.currentWinner=n[0].user_name,e.maxBid=m.maxBid=n[0].bid_amount,e.nextBid=l(e.maxBid)+e.maxBid}else e.maxBid=e.product.minimum_bid,e.nextBid=l(e.maxBid)+e.maxBid})};var v=setInterval(function(){return m.getAuctionDetails()},2e3);e.slideRight=function(){e.page=2},e.slideOut=function(){e.page=1},function(){o.inDetail=window.matchMedia("(min-width: 601px)").matches}(),o.$on("loggedIn",u),o.$on("loggedOut",u),o.$on("auction-ended",d),e.bidHistory=function(){var e=document.querySelector("#prod-info").offsetTop;$(".tabs").tabs("select_tab","prod-bids"),document.body.scrollTop=e,document.documentElement.scrollTop=e},e.placeBid=function(t){g.classList.contains("show-bid")?(e.addToCart(t),g.classList.remove("show-bid"),e.hideCart=!1):(e.hideCart=!0,g.classList.add("show-bid"),$("#amount").focus(),Materialize.toast("Please input a bid amount",1e3))},e.showCart=function(){$(".cart-button").sideNav("show")},e.bid=function(){if(e.loggedIn)if(e.colors.length&&e.sizes.length&&m.bidInfo.productColor&&m.bidInfo.productSize||!e.colors.length&&!e.size.length){var t={auctionId:e.product.auctions.auctionId,productId:e.product.productId,BidAmount:e.nextBid};a.postUserDetails("bidder",h,t,"post").then(function(e){a.verifyData(e.data)&&(Materialize.toast("Bid Placed successfully",2e3),navigator.vibrate&&navigator.vibrate(200),f=!0,m.getAuctionDetails(),s())},function(e){Materialize.toast("An error occured",3e3)})}else Materialize.toast("Please select color and size of product before bidding",4e3);else $("#login-modal").modal("open"),Materialize.toast("Please log in or sign up before bidding",3e3)},e.addToCart=function(e){o.loggedIn?(navigator.vibrate&&navigator.vibrate(200),window.innerWidth<993?(Materialize.toast("Item added to cart",1e3),n.shake()):Materialize.toast("Item added to cart",1e3),o.cart.push(e)):($("#login-modal").modal("open"),Materialize.toast("Please log in or sign up",1e3))},e.chgSrc=function(t,o){e.productImage=t,e.active=o},$(document).ready(function(){$(".materialboxed").materialbox(),$("select").material_select(),$("ul.tabs").tabs(),$(".tooltipped").tooltip({delay:50}),setTimeout(function(){Materialize.updateTextFields()},4e3),document.body.scrollTop=0,document.documentElement.scrollTop=0}),m.$onDestroy=function(){window.clearInterval(v)}}function Review(e,t){function o(o,n){var r=this;n.loading=!0;var a=document.querySelectorAll(".stars"),i=t.getUser();o.ratings=this.clickedStar,o.ratings<1?Materialize.toast("Please rate this product. Click a star!",3e3):e.postUserDetails("product_ratings",i,o,"post").then(function(e){var t=e.data;200===t.meta.code&&(Materialize.toast(""+t.meta.message,3e3),o.created={date:new Date},n.ratings.push(o),n.review={},r.clearStars(a),n.loading=!1)},function(){n.loading=!1,Materialize.toast("An error occured",3e3)})}function n(){function e(){for(var e=this.dataset.value,t=0;t<e;t++){var o=n[t];r.clicked?t>r.clickedStar-1&&(o.classList.remove("grey-text"),o.classList.add("teal-text")):((o=n[t]).classList.remove("grey-text"),o.classList.add("teal-text"))}}function t(e){var t=this.dataset.value;r.clearStars(n);for(var o=0;o<t;o++)(e=n[o]).classList.remove("grey-text"),e.classList.add("teal-text");r.clicked=!0,r.clickedStar=t}function o(){for(var e=this.dataset.value,t=0;t<e;t++){var o=n[t];r.clicked?t>r.clickedStar-1&&(o.classList.remove("teal-text"),o.classList.add("grey-text")):(o.classList.remove("teal-text"),o.classList.add("grey-text"))}}var n=document.querySelectorAll(".stars"),r=this;n.forEach(function(n){n.addEventListener("mouseover",e),n.addEventListener("mouseout",o),n.addEventListener("click",t)})}function r(e){for(var t=0;t<e.length;t++){var o=e[t];o.classList.remove("teal-text"),o.classList.add("grey-text")}this.clicked=!1,this.clickedStar=0}return{clearStars:r,init:n,addReview:o,clickedStar:0,clicked:!1}}function tabsCtrl(e,t,o,n){function r(){a.loggedIn=n.isAuthenticated()}var a=this;a.spinnerPosition="absolute",a.loading=!1,a.loggedIn=n.isAuthenticated(),e.$on("loggedIn",r),e.$on("loggedOut",r),a.logIn=function(){$("#login-modal").modal("open")},a.addreview=function(){var e={product_id:a.product.productId,comments:a.review.text};o.addReview(e,a)},$(document).ready(function(){setTimeout(function(){return $(".tabs").tabs()},2e3)})}function auctionCtrl(e,t){var o=this;t.getUser()&&(o.user=t.getUser()),o.displayInfo=function(e){o.user.displayInfo(e)},o.selected=[],o.query={order:"name",limit:10,page:1,filter:""},o.getAuctions=function(t){e.postUserDetails("auction",o.user,t,"post").then(function(t){var n=e.verifyData(t.data);if(n){var r=n;o.query.total=r.total,o.query.page=r.current_page}})},o.getAuctions({action:"ACTIVE",paginate:5}),this.$onInit=function(){$(".tooltipped").tooltip({delay:50}),$(".tabs").tabs()}}function userCartCtrl(e,t,o,n){var r=this;r.user=o.getUser(),r.checkout=function(){e.cart=r.cart,t.url("/checkout")},function(e,t,o){n.getUserDetails(e,t,o).then(function(e){var t=e.data;"Cart Details Fetch Successfully."===t.meta.message&&t.data&&(r.cart=t.data)})}("cart",r.user),r.$onInit=function(){}}function editCtrl(e,t,o,n,r){var a=this;a.user=t.getUser(),a.profileImage="";var i={xapi:"jwZryAdcrffggf867DnjhjhfRvsfhjs5667",Id:""+a.user.um_id,Accesstoken:""+a.user.access_token};a.saveProfile=function(){var e={};e.first_name=a.user.um_fname,e.last_name=a.user.um_lname,e.address=a.user.um_address,e.country=a.user.um_country,e.state=a.user.um_state,e.city=a.user.um_city,e.sub_district=a.user.sub_district,e.language=a.user.um_language,e.mobile=a.user.um_mobile,o.postUserDetails("edit-profile",a.user,e,"post").then(function(n){o.verifyData(n.data)?(a.user.um_fname=e.first_name,a.user.um_lname=e.last_name,a.user.um_address=e.address,a.user.um_country=e.country,a.user.um_state=e.state,a.user.um_city=e.city,a.user.sub_district=e.sub_district,a.user.um_language=e.language,a.user.um_mobile=e.mobile,t.setUser(a.user),a.user=t.getUser(),Materialize.toast("Profile updated successfully",3e3)):Materialize.toast("Error completing request",3e3)})},a.uploadImage=function(){a.profileImage&&n.upload({url:"https://officeadm1n.bidxel.com/api/edit-profile-pic",data:{profile_pic:a.profileImage},method:"POST",headers:i}).then(function(e){var n=o.verifyData(e.data);n?(a.user.profile_image_large=n.profile_image_large,a.user.profile_image_small=n.profile_image_small,t.setUser(a.user),a.user=t.getUser(),r.$broadcast("loggedIn"),Materialize.toast("Profile Image uploaded successfully",3e3)):Materialize.toast("Error uploading image",3e3)},function(){Materialize.toast("Error uploading image",3e3)},function(e){a.profileImage.progress=Math.min(100,parseInt(100*e.loaded/e.total))})},a.goBack=function(e){a.profile.switchTab(e)},$(document).ready(function(t){var o={};$("select.icons").material_select(),e.get("https://restcountries.eu/rest/v2/all").then(function(e){e.data.forEach(function(e){o[e.name]=e.flag}),$("input.autocomplete").autocomplete({data:o,limit:45,minLength:1}),Materialize.updateTextFields()})})}function invoiceCtrl(){this.$onInit=function(){$(".modal").modal()}}function modalCtrl(){var e=this;e.$onInit=function(){$(".modal").modal(),$("ul.tabs").tabs()},e.$onChanges=function(e){},e.$onDestory=function(){}}function orderCtrl(e,t,o){function n(e,t,n){r.promise=o.getUserDetails(e,t,n).then(function(e){var t=e.data;if(t.data){var o=t.data;r.orders=o.data,console.log(r.orders),r.query.total=o.total,r.query.page=o.current_page}})}var r=this;r.loading=!0,r.search=!1,r.cancelled=!1,r.user=t.getUser(),r.query={order:"name",limit:5,page:1,filter:""},r.showInvoice=function(e){r.user.showInvoice(e)},n("order",r.user),r.showReviewPrompt=function(t,o){var n=document.querySelector(".navbar-fixed");n.style.zIndex=76;var r=t.comment?e.alert().clickOutsideToClose(!0).title("This is what you had to say about this product").textContent(t.comment).ariaLabel("Product rating").ok("Got it!").targetEvent(o):e.prompt().title("How do you think about the quality of your product?").placeholder("Enter your comment...").ariaLabel("Enter your comment").initialValue(t.comment?t.comment:"").targetEvent(o).ok("Submit").cancel("Cancel");setTimeout(function(){e.show(r).then(function(e){t.comment=e,n.style.zIndex=1e3},function(){n.style.zIndex=1e3})},400)},r.cancelOrder=function(t,n){var a=document.querySelector(".navbar-fixed");a.style.zIndex=76,setTimeout(function(){var i=e.confirm().title("Are you sure you want to cancel this order?").textContent("Please make sure you don't cancel more than 3 times in 90 days.").ariaLabel("Cancel Order").targetEvent(t).ok("Go ahead!").cancel("Don't Cancel");e.show(i).then(function(){var e={};e.order_item_id=n.order_id,e.message="Cancelling order of item",o.postUserDetails("order_cancel",r.user,e,"put").then(function(e){var t=o.verifyData(e.data);t?(console.log(t),Materialize.toast("Order cancelled successfully",2e3)):Materialize.toast("Error completing request",2e3)}),a.style.zIndex=1e3},function(){a.style.zIndex=1e3})},400)},r.raiseIssue=function(t){var o=document.querySelector(".navbar-fixed");o.style.zIndex=76,setTimeout(function(){e.show({clickOutsideToClose:!1,controller:"addItemController",focusOnOpen:!1,targetEvent:t,templateUrl:"app/profile-page/orders/order-dialog.html"}).then(function(){o.style.zIndex=1e3},function(){o.style.zIndex=1e3})},200)},r.selected=[],r.removeFilter=function(){r.query.filter="",r.search=!1},r.options={rowSelection:!0,multiSelect:!0,autoSelect:!0,decapitate:!1,largeEditDialog:!1,boundaryLinks:!1,limitSelect:!0,pageSelect:!0},r.getOrders=function(e){n("order",r.user,e)},r.logItem=function(e){console.log(e,"was clicked")},r.$onInit=function(){r.loading=!1}}function rewardCtrl(e,t){var o=this;o.totalPoints=0,o.user=t.getUser(),o.selected=[],function(t,n,r){o.promise=e.getUserDetails(t,n,r).then(function(t){var n=e.verifyData(t.data);if(n){console.log(n);var r=n.data;console.log(r),window.orders=r,o.orders=r.filter(function(e){return"delivered"===e.order.status}),console.log(o.orders),o.orders.forEach(function(e){o.totalPoints+=e.product.pm_cashback_point})}})}("order",o.user),o.query={order:"name",limit:10,page:1,filter:""},o.$onInit=function(){}}function redeemCtrl(e,t,o){var n=this;n.limit=35,n.loading=!0,n.spinnerPosition="absolute",e.previousPage="/redeem-shop",e.showNav=!0,e.inCart=!1,e.inDetail=!1,n.loggedIn=e.loggedIn,function(){o.get("category/redeem-shop").then(function(e){var t=e.data.data;n.products=t.data,console.log(n.products),n.loading=!1},function(e){console.log(e.message)})}(),n.$onInit=function(){},n.$onDestroy=function(){}}function userDetsCtrl(e){var t=this;t.points=e.user.points,t.$onInit=function(){},t.$onChanges=function(e){},t.$onDestroy=function(){}}function searchCtrl(e,t){var o=this;o.spinnerPosition="absolute",o.searchWord="",o.results=[],o.limit=30,o.searching=function(){o.app.searching()},o.showResults=function(){o.loading=!0,t.search(o.searchWord).then(function(e){var t=e.data;200===t.meta.code&&(t.data?(o.loading=!1,o.results=t.data):(o.loading=!1,o.results=[]))})},o.$onInit=function(){}}function cartCtrl(e,t,o,n){var r=this;e.hasDeleted=n.hasDeleted,e.$watch("$root.cart",function(e,t,o){r.itemsInCart=e},!0),e.removeFromCart=function(e,o){$(".cart-button").sideNav("hide"),t.open(e,o)},e.checkout=function(){o.url("/checkout")},n.$watch("hasDeleted",function(t,o,n){e.hasDeleted=t},!0),r.$onInit=function(){$(".cart-button").sideNav({menuWidth:300,edge:"right",closeOnClick:!0,draggable:!1}),r.getTotal=function(){var e=0;return r.itemsInCart.forEach(function(t){return e+=t.price}),e}}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_slicedToArray=function(){function e(e,t){var o=[],n=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(n=(i=c.next()).done)&&(o.push(i.value),!t||o.length!==t);n=!0);}catch(e){r=!0,a=e}finally{try{!n&&c.return&&c.return()}finally{if(r)throw a}}return o}return function(t,o){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,o);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();sideBarCtrl.$inject=["priceFilter","httpService","$rootScope"],Location.$inject=["$http"],checkCtrl.$inject=["$scope","$rootScope","$http","$location","Location","Calculate","deleteModal"],deleteModal.$inject=["$rootScope"],deleteFromCartCtrl.$inject=["deleteModal","$rootScope"],homeCtrl.$inject=["$scope","httpService","$rootScope"],timerCtrl.$inject=["$scope","httpService","$user"],detailCtrl.$inject=["$scope","$routeParams","$rootScope","$misc","ngMeta","httpService","$user","$filter"],Review.$inject=["httpService","$user"],tabsCtrl.$inject=["$rootScope","$scope","Review","$user"],auctionCtrl.$inject=["httpService","$user"],userCartCtrl.$inject=["$rootScope","$location","$user","httpService"],editCtrl.$inject=["$http","$user","httpService","Upload","$rootScope"],orderCtrl.$inject=["$mdDialog","$user","httpService"],rewardCtrl.$inject=["httpService","$user"],redeemCtrl.$inject=["$rootScope","$http","httpService"],userDetsCtrl.$inject=["$rootScope"],searchCtrl.$inject=["$filter","httpService"],cartCtrl.$inject=["$scope","deleteModal","$location","$rootScope"],function(){angular.module("thai",["timer","ngFileUpload","ngAnimate","ngMaterial","md.data.table","angular-loading-bar","ngRoute","ngMdIcons","ngCurrencyName","md-steppers","ngMeta"])}(),function(){function e(e,t,o,n,r,a){function i(){$(".tooltipped").tooltip(),$(".dropdown-button").dropdown({inDuration:300,outDuration:225}),$(".button-collapse").sideNav({menuWidth:300,edge:"left",closeOnClick:!0,draggable:!0})}var c=this,l=o.inMobile;e.showNav=o.showNav,e.previousPage=o.previousPage,e.cart=o.cart,e.inCart=o.inCart,e.inDetail=o.inDetail,e.inMobile=o.inMobile.matches,e.shopRedeem=o.shopRedeem,e.search=o.searching,e.loggedIn=a.isAuthenticated(),e.user=a.getUser(),o.$on("loggedIn",function(){e.loggedIn=a.isAuthenticated(),e.user=a.getUser()});var s=["$root.showNav","$root.inCart","$root.inDetail","$root.shopRedeem","$root.searching"];e.$watchGroup(s,function(t,o,n){var r=_slicedToArray(t,5);e.showNav=r[0],e.inCart=r[1],e.inDetail=r[2],e.shopRedeem=r[3],e.search=r[4]},!0),o.$watch("cart",function(t,o,n){e.itemsInCart=t},!0),c.searching=function(){e.search||setTimeout(function(){$("#search").focus()},200),o.searching=!o.searching,setTimeout(function(){return i()},400)},e.logout=function(){o.loggedIn=!1,o.user={},o.cart=[],Materialize.toast("You've successfully logged out",1e3)},e.removeFromCart=function(e,t){$(".cart-button").sideNav("hide"),r.open(e,t)},e.checkout=function(){t.url("/checkout")},e.location=function(e){"/redeem-shop"===e?t.url(""+e):t.url("/category"+e)},c.$onDestroy=function(){window.removeEventListener("scroll",goBackUp)},c.$onInit=function(){function t(e){var t=window.scrollY,o=document.body.scrollHeight,n=window.innerHeight;t>=.2*(o-n)?$(".back-up").show():$(".back-up").hide()}function o(t){e.inMobile=t.matches,e.inMobile&&($(".cart-button").sideNav({menuWidth:300,edge:"right",closeOnClick:!0,draggable:!1}),$(".button-collapse").sideNav({menuWidth:300,edge:"left",closeOnClick:!0,draggable:!0}))}l.addListener(o),document.addEventListener("scroll",t),$(".back-up").on("click",function(){$("html,body").animate({scrollTop:0},"slow")}),$(".materialboxed").materialbox(),$(".collapsible").collapsible(),$(".modal").modal(),i(),$("ul.tabs").tabs(),$("#table").headroom({offset:80,tolerance:2,classes:{initial:"animated",pinned:"appear",unpinned:"dismiss"}})}}e.$inject=["$scope","$location","$rootScope","$filter","deleteModal","$user"],angular.module("thai").component("app",{templateUrl:"app/app.component.html",controller:e})}(),function(){function e(e,t){function o(e){return"object"===(void 0===e?"undefined":_typeof(e))&&(localStorage.authUser=JSON.stringify(e),this.authUser=e,!0)}function n(o){var n={headers:{xapi:"jwZryAdcrffggf867DnjhjhfRvsfhjs5667",Id:""+o.um_id,Accesstoken:""+o.access_token}};e.post("https://officeadm1n.bidxel.com/api/logout ",{},n).then(function(e){e.data&&e.data.meta&&200===e.data.meta.code&&(localStorage.removeItem("authUser"),t.$broadcast("loggedOut"),Materialize.toast("Logged out successfully",2e3))})}function r(){if(localStorage.authUser)return JSON.parse(localStorage.authUser)}function a(){var e=this.getUser();this.logout(e)}function i(){return!!localStorage.authUser}return{setUser:o,getUser:r,isAuthenticated:i,unauthenticate:a,authUser:{},logout:n}}e.$inject=["$http","$rootScope"],angular.module("thai").factory("$user",e)}(),angular.module("thai").component("about",{templateUrl:"app/about-us/about.html",controller:["$rootScope",function(e){ctrl.onInit=function(){e.previousPage="/about",document.documentElement.scrollTop=0,document.body.scrollTop=0,e.inDetail=!1}}]}),function(){function e(){this.close=function(){document.querySelector(".modal-overlay").style.background="#000",$("#homescreen-modal").modal("close")},$(document).ready(function(){$("#homescreen-modal").modal()})}angular.module("thai").component("addToHomescreen",{templateUrl:"app/add-to-homescreen/add-homescreen.html",controller:e})}(),angular.module("thai").filter("price",price).component("appSearchSidebar",{templateUrl:"app/advanced-search-sidebar/search-sidebar.html",controller:sideBarCtrl,bindings:{products:"="}}),angular.module("thai").component("guarantees",{templateUrl:"app/assurances/assurance.html",bindings:{show:"<"},controller:viewCtrl}),angular.module("thai").directive("addHover",function(){return function(e,t,o){var n=angular.element(t)[0],r=n.querySelector("a");n.onmouseover=function(){r.classList.add("white-text")},n.onmouseout=function(){n.classList.contains("main-green")||r.classList.remove("white-text")}}}).component("allCategories",{bindings:{active:"<"},templateUrl:"app/categories/categories.html",controller:["$location","httpService",function(e,t){var o=this;o.loading=!0;var n=!1;o.location=function(t){"redeem-shop"===t?e.url("/"+t):e.url("/category/"+t)};var r=void 0;!function(){t.get("category").then(function(e){o.loading=!1,o.categories=e.data.data})}(),o.$onInit=function(){o.top=document.querySelector(".home").offsetTop,o.offset=document.querySelector(".nav-extended").offsetHeight,r=document.querySelector(".home.collection"),o.categoryList=r.querySelectorAll(".cat");var e=r.parentElement.dataset.pin;e&&"true"===e&&$(r).pushpin({top:o.top,offset:o.offset}),o.sinkElement=function(){if(e&&"true"===e){n=!0;var t=window.scrollY,o=document.body.scrollHeight,a=window.innerHeight;r.style.zIndex=t>=.7*(o-a)?"-1":"1"}},o.endingTabActive=void 0===o.active,window.addEventListener("scroll",o.sinkElement)},o.$onDestroy=function(){n&&window.removeEventListener("scroll",o.sinkElement),$(r).pushpin("remove")}}]}),angular.module("thai").factory("Location",Location).factory("Calculate",Calculate),angular.module("thai").component("checkout",{templateUrl:"app/checkout/checkout.html",controller:checkCtrl}),angular.module("thai").config(["cfpLoadingBarProvider","$routeProvider","$locationProvider","$mdThemingProvider","ngMetaProvider",function(e,t,o,n,r){o.html5Mode(!0),r.useTitleSuffix(!0),n.theme("default").primaryPalette("teal").accentPalette("blue-grey"),t.when("/",{template:"<home-page></home-page>",data:{meta:{title:"Bidxel bids. The home of smart bidding",description:"A great bidding site for all auctions"}}}).when("/product/:productId",{template:'<product-detail>\n                <div>\n                    <div class="detail-placeholder row">\n                        <div class="col s6">\n                            <div class="card blue-grey lighten-2"></div>\n                        </div>\n                        <div class="col s6">\n                            <div class="card white" style="height: 600px;"></div>\n                        </div>\n                    </div>\n                </div>\n            </product-detail>'}).when("/category/:category",{template:"<category></category>"}).when("/user/:name",{template:"<user-profile></user-profile>"}).when("/checkout",{template:"<checkout></checkout>",data:{meta:{title:"Checkout",titleSuffix:" | Bidxel.com"}}}).when("/privacy",{template:"<privacy></privacy>",data:{meta:{title:"Privacy Agreement",titleSuffix:" | Bidxel.com"}}}).when("/terms",{template:"<terms-conditions></terms-conditions>",data:{meta:{title:"Terms and Conditions",titleSuffix:" | Bidxel.com"}}}).when("/about",{template:"<about></about>",data:{meta:{title:"About Us",titleSuffix:" | Bidxel.com"}}}).when("/redeem-shop",{template:"<app-redeem-shop></app-redeem-shop>",data:{meta:{title:"Redeem Shop",titleSuffix:" | Bidxel.com"}}}).otherwise("/"),e.includeSpinner=!1}]).run(["$rootScope","ngMeta",function(e,t){e.showNav=!0,e.previousPage="/home",e.cart=[],e.inCart=!1,e.inDetail=!1,e.template="auctions",e.inMobile=window.matchMedia("(max-width: 993px)"),e.user={},e.shopRedeem=!1,e.searching=!1,e.hasDeleted=!1,t.init(),window.fbAsyncInit=function(){FB.init({appId:"1413581855390799",cookie:!0,xfbml:!0,version:"v2.8"}),FB.AppEvents.logPageView()},function(e,t,o){var n,r=e.getElementsByTagName(t)[0];e.getElementById(o)||((n=e.createElement(t)).id=o,n.src="//connect.facebook.net/en_US/sdk.js",r.parentNode.insertBefore(n,r))}(document,"script","facebook-jssdk")}]),angular.module("thai").factory("deleteModal",deleteModal).component("deleteFromCartModal",{templateUrl:"app/delete-modal/delete-modal.html",controller:deleteFromCartCtrl}),function(){function e(e){var t=this;t.userMail="",e.$watch("showNav",function(e,o){t.show=e}),t.registerEmail=function(e){""!==t.userMail?(Materialize.toast(t.userMail+" has successfully been registered",3e3),t.userMail=""):Materialize.toast("Please enter your email address",3e3)},function(){window.innerWidth<993?t.inMobile=!0:t.inMobile=!1}(),$(document).ready(function(){$(".collapsible").collapsible()})}e.$inject=["$rootScope"],angular.module("thai").component("thFooter",{templateUrl:"app/footer/footer.html",controller:e,bindings:{show:"<"}})}(),function(){function e(){var e=this;e.$onInit=function(){$(".carousel.carousel-slider").carousel({fullWidth:!0})},e.$onChanges=function(e){},e.$onDestroy=function(){}}angular.module("thai").component("thCarousel",{template:'\n            \n                <div class="carousel carousel-slider center" data-indicators="true" ng-hide="dataLoading" style="height: 400px">\n                    <div class="carousel-fixed-item center">\n                        <a class="btn waves-effect white teal-text"><i class="material-icons teal-text left">menu</i>Categories</a>\n                    </div>\n                    <div class="carousel-item white-text" href="#one!" style="background: url(\'image/slideshow/carou-1.jpg\')">\n                        <h4 style="text-transform: uppercase; margin-top: 10%">Upgrade your spring wardrobe</h4>\n                        <p class="white-text">Stylist men\'s T-shirts</p>\n                    </div>\n                    <div class="carousel-item white-text" href="#two!" style="background: url(\'image/slideshow/carou-1.jpg\')">\n                        <h4 style="text-transform: uppercase; margin-top: 10%">Denim duty</h4>\n                        <p class="white-text">Find your favourite pair of jeans</p>\n                    </div>\n                    <div class="carousel-item white-text" href="#three!" style="background: url(\'image/slideshow/carou-1.jpg\')">\n                        <h4 style="text-transform: uppercase; margin-top: 10%">Wardrobe essentials</h4>\n                        <p class="white-text">Tees and polos perfect for any occassion</p>\n                    </div>\n                    <div class="carousel-item white-text" href="#four!" style="background: url(\'image/slideshow/carou-1.jpg\')">\n                        <h4 style="text-transform: uppercase; margin-top: 10%">The look of spring</h4>\n                        <p class="white-text">Save over 50%</p>\n                    </div>\n                </div>\n            ',controller:e})}(),angular.module("thai").component("homePage",{templateUrl:"app/home/home.html",controller:homeCtrl}),function(){function e(e,t,o){function n(t,o){return e.post(""+u+t,o,d)}function r(t){return e.get(""+u+t,d)}function a(t,o,n,r){if(o){var a={headers:{xapi:"jwZryAdcrffggf867DnjhjhfRvsfhjs5667",Id:""+o.um_id,Accesstoken:""+o.access_token}};return"patch"===r?e.patch(""+u+t,n,a):"put"===r?e.put(""+u+t,n,a):e.post(""+u+t,n,a)}}function i(e){return e.meta?200===e.meta.code&&(e.data?e.data:void 0):(t.unauthenticate(),o.broadcast("loggedOut"),Materialize.toast("Your session has expired, please log-in",8e3),!1)}function c(t,o,n){if(o){var r=n?""+u+t+"?page="+n:""+u+t,a={headers:{xapi:"jwZryAdcrffggf867DnjhjhfRvsfhjs5667",Id:""+o.um_id,Accesstoken:""+o.access_token}};return e.get(r,a)}}function l(t,o){return e.put(""+u+t,d)}function s(t){return e.post(u+"product",{q:t},d)}var d={headers:{xapi:"jwZryAdcrffggf867DnjhjhfRvsfhjs5667"}},u="https://officeadm1n.bidxel.com/api/";return{post:n,get:r,put:l,getUserDetails:c,postUserDetails:a,search:s,verifyData:i}}angular.module("thai").factory("httpService",e),e.$inject=["$http"]}(),function(){function e(e,t,o,n,r,a){function i(){e.loggedIn=r.isAuthenticated(),e.user=r.getUser(),e.loaded=r.isAuthenticated()}function c(){$(".tooltipped").tooltip(),$(".dropdown-button").dropdown({inDuration:300,outDuration:225})}function l(t){e.inMobile=t.matches}var s=this;e.showNav=o.showNav,e.cart=o.cart,e.loggedIn=r.isAuthenticated(),e.inMobile=o.inMobile.matches,e.shopRedeem=o.shopRedeem,e.search=o.searching;var d=o.inMobile;e.hasDeleted=o.hasDeleted,e.loaded=!1,r.isAuthenticated()&&(e.user=r.getUser(),e.loaded=!0);var u=["$root.showNav","$root.shopRedeem","$root.searching"];e.$watchGroup(u,function(t,o,n){var r=_slicedToArray(t,3);e.showNav=r[0],e.shopRedeem=r[1],e.search=r[2],c()},!0),o.$watch("cart",function(t,o,n){e.itemsInCart=t},!0),o.$watch("hasDeleted",function(t,o,n){e.hasDeleted=t},!0),o.$on("loggedIn",i),o.$on("loggedOut",i),e.location=function(e){"redeem-shop"===e?t.url("/"+e):t.url("/category/"+e)},function(){a.get("category").then(function(t){console.log(t.data),e.categories=t.data.data})}(),e.scrollLeft=function(){var e=document.querySelector(".mob-menu"),t=document.querySelector(".menu-scroller.left-side");e.scrollWidth>e.scrollLeft?(t.classList.contains("disabled")&&(t.classList.remove("disabled"),t.classList.add("z-depth-2")),e.scrollLeft-=20):(t.classList.add("disabled"),t.classList.remove("z-depth-2"))},e.scrollRight=function(){var e=document.querySelector(".mob-menu"),t=document.querySelector(".menu-scroller.right-side"),o=e.scrollWidth;e.scrollLeft<o?(t.classList.contains("disabled")&&(t.classList.remove("disabled"),leftScroller.classList.add("z-depth-2")),e.scrollLeft+=20):(t.classList.add("disabled"),leftScroller.classList.remove("z-depth-2"))},e.checkout=function(){t.url("/checkout")},e.removeFromCart=function(e,t){$(".cart-button").sideNav("hide"),n.open(e,t)},e.logout=function(){r.unauthenticate()},s.searching=function(){e.search||setTimeout(function(){$("#search").focus()},200),o.searching=!o.searching,setTimeout(function(){return c()},200)},e.addToScreen=function(){var e=$("#homescreen-modal");e.css("opacity",0),e.modal("open");var t=document.querySelector(".modal-overlay");t.style.background="#26848c",t.style.opacity=.8,e.css("opacity",1)},d.addListener(l),$(".dropdown-button").dropdown({inDuration:300,outDuration:225})}e.$inject=["$scope","$location","$rootScope","deleteModal","$user","httpService"],angular.module("thai").controller("indexCtrl",e)}(),angular.module("thai").component("loginRegister",{bindings:{username:"="},templateUrl:"app/login/login.html",controller:["$rootScope","$http","$location","httpService","$user",function(e,t,o,n,r){var a=this;a.user={};var i=Math.round(100*Math.random());a.user.points=i,a.newUser={},a.newUser.points=i,a.forgotPassword=!1,a.register=!1,a.viewTerms=!1,a.passwordConfirm="",a.closeModal=function(){c(),$(".modal").modal("close")};var c=function(){a.forgotPassword=!1,a.register=!1,a.viewTerms=!1,a.user={},a.newUser={},a.email="",a.passwordConfirm=""},l=function(e){e.$setPristine(),e.$setUntouched()};a.signIn=function(t){n.post("login",a.user).then(function(o){var n=o.data;if(400!==n.meta.code){var a=n.data;r.setUser(a),$(".modal").modal("close"),e.$broadcast("loggedIn"),setTimeout(function(){Materialize.toast("Welcome back "+a.um_name,1e3)},1e3),c(),l(t)}else Materialize.toast(""+n.meta.message,3e3)})},a.view=function(e){switch(e){case"login":c();break;case"resetPassword":a.forgotPassword=!a.forgotPassword;break;case"terms":a.register=!1,a.viewTerms=!0;break;case"register":a.register=!0,a.viewTerms=!1;break;default:c()}},a.reset=function(e){$(".modal").modal("close"),Materialize.toast("A reset link has been sent to "+a.email+".",2e3),l(e),c()},a.signUp=function(e){n.post("register",a.newUser).then(function(t){400!==t.data.meta.code&&(Materialize.toast("Hello "+a.newUser.userName+"!. Your new account has been created. \n                        Please login with your details.",5e3),c(),l(e))},function(e){console.log("Error"),Materialize.toast("Error processing",3e3)})},a.loginFb=function(){console.log("loggin"),FB.login(function(e){"connected"===e.status&&console.log(e)})},a.$onInit=function(){$(".modal").modal()}}]}),function(){var e=document.querySelector(".data__offline"),t=document.querySelector("#header");document.addEventListener("DOMContentLoaded",function(o){function n(o){navigator.onLine?(Materialize.toast("You are now online",4e3),e.classList.add("hide"),t.classList.remove("offline")):(Materialize.toast("You are offline",4e3),e.classList.remove("hide"),t.classList.add("offline"))}navigator.onLine||(e.classList.remove("hide"),t.classList.add("offline"),Materialize.toast("You are offline",3e3)),window.addEventListener("online",n,!1),window.addEventListener("offline",n,!1)})}(),angular.module("thai").component("privacy",{templateUrl:"app/privacy-policy/privacy.html",controller:function(){ctrl.onInit=function(){$rootScope.previousPage="/privacy",$rootScope.inCart=!1,$rootScope.inDetail=!1,$rootScope.showNav=!0,document.documentElement.scrollTop=0,document.body.scrollTop=0}}}),angular.module("thai").component("category",{templateUrl:"app/product-category/product-category.html",controller:["$routeParams","$scope","$rootScope","ngMeta","httpService","$misc",function(e,t,o,n,r,a){t.dataLoading=!0,o.inDetail=!1,o.showNav=!0,t.inMobile=o.inMobile.matches,t.category=e.category,o.previousPage="/category/"+t.category;var i=o.inMobile;t.categoryUrl=o.previousPage,n.setTitle(a.capitalizeText(t.category)+" Category"," | Bidxel.com");var c=this;!function(){r.get("category/"+t.category).then(function(e){if(e.data.data){var o=e.data.data.data;c.products=o.filter(function(e){return!e.pm_is_redeemable}),t.dataLoading=!1}else t.dataLoading=!1})}(),c.setLimit=function(e){c.limit=e};var l=!1;o.inCart=!1,t.loadMores=function(e){window.scrollY>=.7*(document.body.clientHeight-window.innerHeight)&&(l||(l=!0,t.loading=!0,setTimeout(function(){var e;t.loading=!1,(e=t.products).push.apply(e,_toConsumableArray(extras))},2e3)))},c.$onInit=function(){function e(e){t.inMobile=e.matches}$(".tooltipped").tooltip({delay:50}),$(".dropdown-button").dropdown(),$(".dropdown-content > li").on("click",function(){setTimeout(function(){$(".dropdown-button").dropdown("close")},300)}),i.addListener(e),document.body.scrollTop=0,document.documentElement.scrollTop=0},c.$onDestroy=function(){window.removeEventListener("scroll",t.loadMore)}}]}),angular.module("thai").component("bidTable",{templateUrl:"app/product-detail/bid-table/bid-table.html",controller:bidTableCtrl,bindings:{bids:"<"}}),angular.module("thai").component("countdownTimer",{templateUrl:"app/product-detail/countdown-timer/countdown-timer.html",controller:timerCtrl,require:{product:"^productDetail"},bindings:{time:"<",bidInfo:"=",clear:"="}}),angular.module("thai").factory("$misc",misc),angular.module("thai").component("productDetail",{templateUrl:"app/product-detail/product-detail.html",controller:detailCtrl}),angular.module("thai").factory("Review",Review).directive("initStar",["Review",function(e){return function(t,o,n){e.init()}}]),angular.module("thai").component("detailTabs",{templateUrl:"app/product-detail/tabs/tabs.html",controller:tabsCtrl,bindings:{bids:"<",product:"<",ratings:"="}}),angular.module("thai").component("productList",{bindings:{products:"<",columns:"=",limit:"<"},templateUrl:"app/products/product-list.html",controller:["$scope","$location",function(e,t){var o=this;o.time=30,o.restartTimer=function(){e.$broadcast("timer-reset"),e.$broadcast("timer-start")},o.viewProduct=function(e){t.url("/product/"+e)},e.$on("timer-tick",function(e,t){t.millis<=1e4?($(".prod-timer").hasClass("red-text")||$(".prod-timer").addClass("red-text"),$(".timer-icon").hasClass("hide")&&$(".timer-icon").removeClass("hide")):($(".prod-timer").hasClass("red-text")&&$(".prod-timer").removeClass("red-text"),$(".timer-icon").hasClass("hide")||$(".timer-icon").addClass("hide"))})}]}).directive("lazyLoad",function(){return{restrict:"A",scope:{placehold:"@"},link:function(e,t,o){function n(t){t.forEach(function(t){t.target.src=e.placehold,r.unobserve(t.target),r.disconnect()})}var r=new IntersectionObserver(n),a=angular.element(t)[0];r.observe(a)}}}),angular.module("thai").component("userAuctions",{templateUrl:"app/profile-page/auctions/auctions.html",controller:auctionCtrl,require:{user:"^userProfile"}}),angular.module("thai").component("userCart",{templateUrl:"app/profile-page/cart/cart.html",controller:userCartCtrl,require:{user:"^userProfile"}}),angular.module("thai").component("userEditProfile",{templateUrl:"app/profile-page/edit-profile/edit-profile.html",controller:editCtrl,require:{profile:"^userProfile"}}),angular.module("thai").component("invoiceModal",{templateUrl:"app/profile-page/invoice-modal/invoice-modal.html",controller:invoiceCtrl,bindings:{item:"="}}),angular.module("thai").component("purchaseModal",{templateUrl:"app/profile-page/modal/purchase-modal.html",controller:modalCtrl,bindings:{info:"="}}),angular.module("thai").component("userOrders",{require:{user:"^userProfile"},templateUrl:"app/profile-page/orders/orders.html",controller:orderCtrl}).controller("addItemController",["$mdDialog","$scope","$mdToast",function(e,t,o){t.hide=function(){document.querySelector(".navbar-fixed").style.zIndex=997,e.hide()},t.submitComplaint=function(){t.hide(),o.show(o.simple().textContent("Your complaint has been submitted. Awaiting confirmation").position("bottom").hideDelay(3e3))}}]),angular.module("thai").component("userProfile",{templateUrl:"app/profile-page/profile-page.html",controller:["$scope","$location","$rootScope","$anchorScroll","ngMeta","$user","httpService",function(e,t,o,n,r,a,i){function c(){e.loggedIn=a.isAuthenticated(),e.user=a.getUser()}var l=this;o.showNav=!0,o.inDetail=!1,o.previousPage="/user/"+e.name,o.inCart=!1,l.inMobile=o.inMobile.matches;var s=a.getUser();s?(e.user=s,r.setTitle(s.um_name+"'s Profile"," | Bidxel.com")):t.url("/"),e.templates={editProfile:"edit-profile",auctions:"auctions",orders:"orders",cart:"cart",rewards:"rewards"},e.template=e.templates[o.template],function(){l.inMobile&&("orders"!==o.template&&"cart"!==o.template&&"editProfile"!==o.template||(t.hash("user-info"),n()))}(),e.currentInfo={},l.displayInfo=function(t){e.currentInfo=t,$("#purchase-modal").modal("open")},l.showInvoice=function(t){e.item=t,$("#invoice-modal").modal("open")};l.switchTab=function(t){e.template=e.templates[t]},o.$on("loggedIn",c),o.$on("loggedOut",c),l.$onInit=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}}]}),angular.module("thai").component("userRewards",{require:{user:"^userProfile"},templateUrl:"app/profile-page/rewards/rewards.html",controller:rewardCtrl}),angular.module("thai").component("appRedeemProducts",{bindings:{products:"<",limit:"<"},templateUrl:"app/redeem-shop/product-list/redeem-products.html",controller:["$rootScope","$location",function(e,t){var o=this;o.addToCart=function(t){e.loggedIn?(e.cart.push(t),Materialize.toast("Item added to cart",1e3),e.shopRedeem=!0):($("#login-modal").modal("open"),Materialize.toast("Please log in or sign up",1e3))},o.viewProduct=function(e){t.url("/product/"+e)}}]}),angular.module("thai").component("appRedeemShop",{templateUrl:"app/redeem-shop/redeem-shop.html",controller:redeemCtrl}),angular.module("thai").component("userSidebar",{templateUrl:"app/redeem-shop/user-details-sidebar/user-sidebar.html",controller:userDetsCtrl}),"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(function(e){console.log("Service worker registered",e)}),function(e){var t=function(t,o,n){function r(e){if(c.body)return e();setTimeout(function(){r(e)})}function a(){l.addEventListener&&l.removeEventListener("load",a),l.media=n||"all"}var i,c=e.document,l=c.createElement("link");if(o)i=o;else{var s=(c.body||c.getElementsByTagName("head")[0]).childNodes;i=s[s.length-1]}var d=c.styleSheets;l.rel="stylesheet",l.href=t,l.media="only x",r(function(){i.parentNode.insertBefore(l,o?i:i.nextSibling)});var u=function e(t){for(var o=l.href,n=d.length;n--;)if(d[n].href===o)return t();setTimeout(function(){e(t)})};return l.addEventListener&&l.addEventListener("load",a),l.onloadcssdefined=u,u(a),l};"undefined"!=typeof exports?exports.loadCSS=t:e.loadCSS=t}(window),function(e){if(e.loadCSS){var t=loadCSS.relpreload={};if(t.support=function(){try{return e.document.createElement("link").relList.supports("preload")}catch(e){return!1}},t.poly=function(){for(var t=e.document.getElementsByTagName("link"),o=0;o<t.length;o++){var n=t[o];"preload"===n.rel&&"style"===n.getAttribute("as")&&(e.loadCSS(n.href,n,n.getAttribute("media")),n.rel=null)}},!t.support()){t.poly();var o=e.setInterval(t.poly,300);e.addEventListener&&e.addEventListener("load",function(){t.poly(),e.clearInterval(o)}),e.attachEvent&&e.attachEvent("onload",function(){e.clearInterval(o)})}}}(window),angular.module("thai").component("appSearchArea",{templateUrl:"app/search-area/search-area.html",controller:searchCtrl,require:{app:"^app"},bindings:{search:"="}}),angular.module("thai").component("sideCart",{templateUrl:"app/side-cart/side-cart.html",controller:cartCtrl,bindings:{itemsInCart:"<"}}),function(){function e(e,t,o,n){function r(){e.loggedIn=n.isAuthenticated(),e.user=n.getUser()}var a=this;e.loggedIn=n.isAuthenticated(),e.loggedIn&&(e.user=n.getUser()),t.$on("loggedIn",r),t.$on("loggedOut",r),e.location=function(e){"/redeem-shop"===e?o.url(e):o.url("/category"+e)},a.signout=function(){n.unauthenticate(),t.$broadcast("loggedOut"),Materialize.toast("You've successfully logged out",1e3)},a.$onInit=function(){$(".button-collapse").sideNav({menuWidth:300,edge:"left",closeOnClick:!0,draggable:!0}),$(".collapsible.collapsible-accordion").collapsible(),$(".show-login").on("click",function(){$("#login-modal").modal("open")})},a.$onChanges=function(e){},a.$onDestroy=function(){}}e.$inject=["$scope","$rootScope","$location","$user"],angular.module("thai").component("sideNav",{templateUrl:"app/side-nav/side-nav.html",controller:e,bindings:{username:"<"}})}(),angular.module("thai").component("thaiSpinner",{templateUrl:"app/spinner/spinner.html",bindings:{position:"<",spinnerSize:"<"}}),angular.module("thai").component("termsConditions",{templateUrl:"app/terms-and-conditions/terms.html",controller:["$rootScope",function(e){ctrl.onInit=function(){e.previousPage="/terms",e.inCart=!1,document.documentElement.scrollTop=0,document.body.scrollTop=0,e.inDetail=!1}}]});
//# sourceMappingURL=maps/app.bundle.min.js.map
